"use strict";(self.webpackChunkreact_router_app=self.webpackChunkreact_router_app||[]).push([[590],{590:(e,s,a)=>{a.r(s),a.d(s,{FilmsPage:()=>j,filmsLoader:()=>o});var l=a(483),c=a(891),r=a(530),i=a(723);const t=e=>{let{imageUrl:s,title:a,year:l,id:t,description:n}=e;return(0,i.jsxs)("div",{className:"card_item",children:[(0,i.jsxs)("div",{className:"card-item",children:[(0,i.jsx)("div",{className:"card_image",children:(0,i.jsx)("img",{className:"card-image",src:s,alt:"film"})}),(0,i.jsxs)("div",{className:"card-info",children:[(0,i.jsxs)("div",{className:"card-title",children:[" ","Film"]}),(0,i.jsx)(c.N_,{to:"".concat(r.b.films,"/").concat(t),className:"film-title_link",children:a}),(0,i.jsx)("div",{className:"film-year",children:(0,i.jsx)(c.N_,{to:"".concat(r.b.films,"/").concat(t),className:"film-year_link",children:l})}),(0,i.jsx)("p",{className:"card-description",children:n})]})]}),(0,i.jsx)("hr",{style:{opacity:"15%"}})]})};var n=a(978),d=a(670),m=a(83),h=a(376);const o=e=>{let{request:s}=e;const a=new URL(s.url).searchParams.get("search"),l=(0,n.J)("/films",{search:a});return(0,m.v6)({films:l})},j=()=>{const{films:e}=(0,h.LG)(),[s,a]=(0,c.ok)(),r=s.get("search"),{state:n}=(0,h.cq)(),[m,o]=(0,l.useState)(r||"");return(0,l.useEffect)((()=>{a((e=>(m?e.set("search",m):e.delete("search"),e)))}),[m,a]),(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(d.a,{}),children:(0,i.jsx)(h.jD,{resolve:e,errorElement:(0,i.jsx)("div",{children:"Oops, error while loading films"}),children:e=>(0,i.jsxs)("div",{className:"films_content",children:[(0,i.jsx)("div",{className:"films_searchInput",children:(0,i.jsx)("input",{type:"text",className:"search-input",placeholder:"Search films",value:m,onChange:e=>o(e.target.value)})}),(0,i.jsxs)("div",{className:"relative",children:["loading"===n&&(0,i.jsx)(d.a,{}),e&&e.length>0?e.map((e=>(0,i.jsx)(t,{...e},e.id))):(0,i.jsx)("div",{className:"films_searchError",children:"Film is not found..."})]})]})})})}}}]);
//# sourceMappingURL=590.e54645b5.chunk.js.map